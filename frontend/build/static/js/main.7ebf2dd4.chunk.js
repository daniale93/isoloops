(this["webpackJsonpisoloops-frontend"]=this["webpackJsonpisoloops-frontend"]||[]).push([[0],{19:function(e,t,s){},40:function(e,t,s){"use strict";s.r(t);var l=s(2),c=s.n(l),a=s(13),n=s.n(a),r=(s(19),s(0));var o=e=>{let{songs:t}=e;return console.log("Songs in SongTable:",t),Object(r.jsxs)("table",{className:"w-full text-sm border-collapse",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{className:"bg-gray-200 text-left",children:[Object(r.jsx)("th",{className:"p-2",children:"Title"}),Object(r.jsx)("th",{className:"p-2",children:"Sample Type"}),Object(r.jsx)("th",{className:"p-2",children:"Genre"}),Object(r.jsx)("th",{className:"p-2",children:"Preview"}),Object(r.jsx)("th",{className:"p-2",children:"Description"})]})}),Object(r.jsx)("tbody",{children:t&&t.length>0?t.map(((e,t)=>{const s=e.YOUTUBE_URL?new URL(e.YOUTUBE_URL).searchParams.get("v"):null,l=e.START_TIME?parseInt(e.START_TIME.split(":").reduce(((e,t)=>60*e+ +t),0)):0;return Object(r.jsxs)("tr",{className:"border-t",children:[Object(r.jsx)("td",{className:"p-2",children:e.TITLE||"Unknown Title"}),Object(r.jsx)("td",{className:"p-2",children:Object(r.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium text-white bg-blue-600 rounded-full",children:e.SAMPLE_TYPE?e.SAMPLE_TYPE.replace("_"," "):"Unknown Sample Type"})}),Object(r.jsx)("td",{className:"p-2",children:Object(r.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium text-white bg-green-600 rounded-full",children:e.GENRE||"Unknown Genre"})}),Object(r.jsx)("td",{className:"p-2",children:s?Object(r.jsx)("iframe",{width:"200",height:"113",src:`https://www.youtube.com/embed/${s}?start=${l}`,title:`Sample video for ${e.TITLE||"track"}`,frameBorder:"0",allowFullScreen:!0}):Object(r.jsx)("span",{children:"No Preview"})}),Object(r.jsx)("td",{className:"p-2",children:e.DESCRIPTION||"No Description"})]},t)})):Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:"5",className:"p-2 text-center",children:"No songs available"})})})]})},i=s(14),b=s.n(i);var d=()=>{const[e,t]=Object(l.useState)(""),[s,c]=Object(l.useState)(""),[a,n]=Object(l.useState)(null),[i,d]=Object(l.useState)([]);Object(l.useEffect)((()=>{b.a.get("https://isoloops-api.vercel.app/api/query.py").then((e=>{console.log("Fetched data:",e.data);const t=(e.data.samples||[]).map((e=>({...e,TITLE:e.title,YOUTUBE_URL:e.youtube_url,START_TIME:e.start_time,END_TIME:e.end_time,SAMPLE_TYPE:e.sample_type,DESCRIPTION:e.description,GENRE:e.genre,DECADE:e.decade,START_SECONDS:e.start_seconds,END_SECONDS:e.end_seconds,DURATION:e.duration})));console.log("Normalized songs:",t),d(t)})).catch((e=>{console.error("Error fetching data:",e)}))}),[]);const j=[...new Set(i.map((e=>e.GENRE)))],m=[...new Set(i.map((e=>e.SAMPLE_TYPE)))],p=a?[a]:i.filter((t=>(""===e||t.GENRE===e)&&(""===s||t.SAMPLE_TYPE===s))),x=e=>{let{value:t,label:s,active:l,onClick:c,color:a}=e;const n={green:l?"bg-green-600 text-white":"bg-green-100 text-green-800 hover:bg-green-200",blue:l?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 hover:bg-blue-200"};return Object(r.jsx)("button",{onClick:()=>c(t),className:`px-3 py-1 text-sm rounded-full font-medium transition ${n[a]}`,children:s})};return Object(r.jsx)("div",{className:"min-h-screen bg-gray-100 p-6",children:Object(r.jsxs)("div",{className:"max-w-6xl mx-auto bg-white shadow-md rounded-2xl p-6",children:[Object(r.jsx)("div",{className:"flex items-center gap-3 mb-2",children:Object(r.jsx)("img",{src:"/isoloops-logo-transparent.png",alt:"isoloops logo",className:"h-10 w-10"})}),Object(r.jsx)("p",{className:"text-gray-600 mb-6 italic",children:"Find the cleanest samples in the wild."}),a?Object(r.jsx)("button",{className:"mb-6 px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition",onClick:()=>n(null),children:"\u2716\ufe0f Clear Surprise"}):Object(r.jsx)("button",{className:"mb-6 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",onClick:()=>{const e=Math.floor(Math.random()*i.length);n(i[e])},children:"\ud83c\udfb2 Surprise Me"}),!a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"mb-4",children:[Object(r.jsx)("p",{className:"text-sm font-semibold mb-2",children:"Genres:"}),Object(r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[Object(r.jsx)(x,{value:"",label:"All",active:""===e,onClick:t,color:"green"}),j.map(((s,l)=>Object(r.jsx)(x,{value:s,label:s,active:e===s,onClick:t,color:"green"},l)))]})]}),Object(r.jsxs)("div",{className:"mb-6",children:[Object(r.jsx)("p",{className:"text-sm font-semibold mb-2",children:"Sample Types:"}),Object(r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[Object(r.jsx)(x,{value:"",label:"All",active:""===s,onClick:c,color:"blue"}),m.map(((e,t)=>Object(r.jsx)(x,{value:e,label:e.replace("_"," "),active:s===e,onClick:c,color:"blue"},t)))]})]})]}),Object(r.jsx)(o,{songs:p})," "]})})};n.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(d,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.7ebf2dd4.chunk.js.map